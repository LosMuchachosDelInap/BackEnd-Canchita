# Archivo .htaccess para enrutamiento de API de reservas
# Colocar en: BackEnd-Canchita/src/Api/

RewriteEngine On

# Permitir CORS para todas las solicitudes
Header always set Access-Control-Allow-Origin "http://localhost:4200"
Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
Header always set Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With"

# Manejar preflight requests
RewriteCond %{REQUEST_METHOD} OPTIONS
RewriteRule ^(.*)$ reservas.php [QSA,L]

# Rutas de la API de reservas
RewriteRule ^api/reservas/mis-reservas$ reservas.php [QSA,L]
RewriteRule ^api/reservas/crear$ reservas.php [QSA,L]
RewriteRule ^api/reservas/verificar-disponibilidad$ reservas.php [QSA,L]
RewriteRule ^api/reservas/cancelar/([0-9]+)$ reservas.php [QSA,L]
RewriteRule ^api/reservas/([0-9]+)$ reservas.php [QSA,L]

# Redirigir todas las solicitudes de reservas al manejador principal
RewriteRule ^api/reservas/(.*)$ reservas.php [QSA,L]
